<!DOCTYPE html>
<html class="font-sans mode-dark" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <title>Generic constraints Lesson</title>
        <meta name="description" content="Learn programming tools like JavaScript, TypeScript, SQL, and regular expressions fast. Interactive lessons with real code examples.">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Execute Program">
<meta name="twitter:description" content="Learn it. Code it. Remember it.">
<meta name="twitter:image" content="https://www.executeprogram.com/images/twitter-card.png">
        <meta property="og:title" content="Execute Program">
<meta property="og:type" content="website">
<meta property="og:url" content="https://www.executeprogram.com/courses/advanced-typescript/lessons/generic-constraints">
<meta property="og:image" content="https://www.executeprogram.com/images/twitter-card.png">
        <meta name="execprog-client-version" content="a831bb5c2f0473606351ad14c0b4493bc7086f029e19273bffd025af8d029b8d">
        <meta name="robots" content="index, follow">
        <link rel="prefetch" as="fetch" crossorigin="" href="https://www.executeprogram.com/dist/sql-wasm-1.4.2.wasm">
<link rel="preload" as="font" crossorigin="" href="https://www.executeprogram.com/fonts/IBMPlexSans-Regular-Latin1.woff2">
<link rel="preload" as="font" crossorigin="" href="https://www.executeprogram.com/fonts/IBMPlexSans-SemiBold-Latin1.woff2">
<link rel="preload" as="font" crossorigin="" href="https://www.executeprogram.com/fonts/IBMPlexSans-Italic-Latin1.woff2">
<link rel="preload" as="font" crossorigin="" href="https://www.executeprogram.com/fonts/Inconsolata-dz-ep.woff2">

        <link rel="stylesheet" media="all" href="Generic%20constraints%20Lesson_files/application.7b56579413a396ad4b75c32392fd1277e03f03872e505c38.css">
        <link rel="alternate" type="application/rss+xml" title="Execute Program Blog RSS Feed" href="https://www.executeprogram.com/blog/feed.rss">
        <script>window.USER = {"kind":"authenticated","id":29772,"email":"joelhoelting@protonmail.com","showOverlays":false}</script>
        <script type="module" src="Generic%20constraints%20Lesson_files/app.ZSUGA73M.js"></script>
      <link rel="canonical" href="https://www.executeprogram.com//courses/advanced-typescript/lessons/generic-constraints"></head>
      <body class="tone-neutral bg-back flex min-h-full text-base w-full">
        <div class="App flex flex-auto justify-center"><div class="flex flex-col h-full terminal type-code w-full"><header class="
    bg-base border-b border-base
    divide-base divide-x flex justify-between sticky top-0 z-10
  "><button aria-label="Back button" class="

    button tone-accent
    border-2 border-control cursor-pointer font-bold font-mono group
    inline-flex items-center justify-between leading-none no-underline rounded
    space-x-2 whitespace-nowrap
    hover:shadow-md
    focusable
    bg-transparent
    px-4 py-2
    text-md
    
    
      border-0 border-base flex-0 items-center p-4 rounded-none
      hover:bg-front hover:shadow-none active:bg-back
    
  " tabindex="0" type="button"><svg aria-label="Left Arrow Icon" class="
    align-baseline fill-current inline-block relative
    
    
    h-em w-em
    
    
  " height="24" role="img" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title>Left Arrow Icon</title><g aria-hidden="true"><path d="M8.705 4.553a.75.75 0 0 1 0 1.06L2.567 11.75H23.25a.75.75 0 0 1 .743.648L24 12.5a.75.75 0 0 1-.75.75H2.553l6.152 6.152a.75.75 0 0 1-1.06 1.06L.22 13.039A.747.747 0 0 1 0 12.5l.005.09A.754.754 0 0 1 0 12.518V12.5a.765.765 0 0 1 .003-.064.746.746 0 0 1 .28-.523l7.361-7.36a.75.75 0 0 1 1.061 0z"></path></g></svg></button><div class="flex flex-grow items-center justify-between"><a href="https://www.executeprogram.com/" class="type-h6 flex leading-none flex-shrink-0 pl-2"><img src="Generic%20constraints%20Lesson_files/logo-icon.svg" alt="Execute Program" aria-label="Logo" class="icon mx-2"></a><div class="flex flex-1 items-center justify-end p-3 space-x-2"></div></div><div><div class="flex items-center h-full -space-x-6"><nav aria-label="Account Navigation" class="
      flex items-center relative h-full
      false
    " role="navigation"><div class="h-full max-w-12 flex"><button aria-controls="account-nav-links" aria-expanded="false" aria-label="Toggle Account Navigation" class="
      text-strong
      false
      hover:bg-front hover:text-strong
      focusable flex items-center pointer p-4
      relative type-body-sm z-20
    " type="button"><svg aria-label="Menu Icon" class="
    align-baseline fill-current inline-block relative
    
    
    h-em w-em
    
    
  " height="24" role="img" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title>Menu Icon</title><g aria-hidden="true"><path d="M.75 20.25h22.5a.75.75 0 1 0 0-1.5H.75a.75.75 0 1 0 0 1.5zm0-7h22.5a.75.75 0 1 0 0-1.5H.75a.75.75 0 1 0 0 1.5zm0-7h22.5a.75.75 0 1 0 0-1.5H.75a.75.75 0 0 0 0 1.5z"></path></g></svg></button></div><div class="
      border-b border-l border-t border-base
      absolute bg-base min-w-[12rem] py-2 right-0
      rounded-bl-lg shadow-lg space-y-0.5 top-full w-full z-10
    " id="account-nav-links" hidden=""><div><div class="
      bg-transparent block cursor-pointer focusable rounded-sm
      mx-2
      text-base type-body-sm
      hover:bg-front hover:text-strong
      active:bg-front active:text-strong
    "><button class="
        bg-transparent cursor-pointer focusable-text inline p-0 underline
        no-underline space-x-2 py-1 px-4 flex w-full
      " type="button"><span class="inline-flex w-4 pt-1"><svg aria-label="Refresh Icon" class="
    align-baseline fill-current inline-block relative
    
    
    h-em w-em
    
    text-accent
  " height="24" role="img" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title>Refresh Icon</title><g aria-hidden="true"><path d="M12 4a7.99 7.99 0 0 1 6.5 3.335l-.001-2.515a.75.75 0 1 1 1.5 0v4.429a.75.75 0 0 1-.75.75H14.82a.75.75 0 1 1 0-1.5l2.657-.001A6.5 6.5 0 1 0 18.424 13a.76.76 0 0 1 .756-.751.75.75 0 0 1 .75.75A7.988 7.988 0 0 1 12 20a8 8 0 1 1 0-16z"></path></g></svg></span><span class="inline-block">Toggle Dark Mode</span></button></div></div><div><div class="
      bg-transparent block cursor-pointer focusable rounded-sm
      mx-2
      text-base type-body-sm
      hover:bg-front hover:text-strong
      active:bg-front active:text-strong
    "><a class="no-underline space-x-2 py-1 px-4 flex w-full" href="https://www.executeprogram.com/courses"><span class="inline-flex w-4 pt-1"><svg aria-label="Course Icon" class="
    align-baseline fill-current inline-block relative
    
    
    h-em w-em
    
    text-accent
  " height="24" role="img" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title>Course Icon</title><g aria-hidden="true"><path d="M11.647 3.088a.75.75 0 0 1 .706 0l11.25 6a.75.75 0 0 1 0 1.324l-4.853 2.587v3.751a.75.75 0 0 1-.22.53C16.4 19.41 14.22 20.5 12 20.5c-2.22 0-4.4-1.09-6.53-3.22a.75.75 0 0 1-.21-.412l-.01-.118v-3.751l-1-.533v7.284a.75.75 0 0 1-.648.743L3.5 20.5a.75.75 0 0 1-.743-.648l-.007-.102v-8.084L.397 10.412A.75.75 0 0 1 .298 9.15l.1-.063zM17.25 13.8l-4.897 2.613a.75.75 0 0 1-.706 0L6.75 13.799v2.635l.035.035c1.696 1.62 3.351 2.45 4.972 2.525L12 19c1.617 0 3.269-.752 4.96-2.294l.29-.273v-2.634zM12 4.599L2.342 9.75l1.328.708 8.2-1.447a.75.75 0 0 1 .36 1.453l-.1.025-6.314 1.114L12 14.9l9.657-5.15L12 4.599z"></path></g></svg></span><span class="inline-block">Courses</span></a></div><div><div class="border-base border-b my-2"></div></div></div><div><div class="
      bg-transparent block cursor-pointer focusable rounded-sm
      mx-2
      text-base type-body-sm
      hover:bg-front hover:text-strong
      active:bg-front active:text-strong
    "><a class="no-underline space-x-2 py-1 px-4 flex w-full" href="https://www.executeprogram.com/account"><span class="inline-flex w-4 pt-1"><svg aria-label="Settings Icon" class="
    align-baseline fill-current inline-block relative
    
    
    h-em w-em
    
    text-accent
  " height="24" role="img" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title>Settings Icon</title><g aria-hidden="true"><path d="M8.155.001a2.71 2.71 0 0 1 2.007.894l.939 1.037a1.21 1.21 0 0 0 1.796.001l.939-1.041a2.718 2.718 0 0 1 2.009-.889 2.703 2.703 0 0 1 2.705 2.84l-.072 1.402c-.016.322.094.632.311.872a1.2 1.2 0 0 0 .837.397l.061.001.06-.001 1.4-.072c.048-.002.095-.004.143-.004a2.71 2.71 0 0 1 1.812 4.722l-1.042.939a1.206 1.206 0 0 0 0 1.794l1.042.94c.537.485.854 1.149.891 1.872a2.69 2.69 0 0 1-.694 1.954 2.704 2.704 0 0 1-1.811.888l-.189.007c-.051 0-.102-.001-.153-.004l-1.398-.072-.071-.002a1.204 1.204 0 0 0-1.198 1.272l.072 1.399a2.714 2.714 0 0 1-2.712 2.843 2.71 2.71 0 0 1-2.003-.891l-.941-1.043a1.209 1.209 0 0 0-1.795.001l-.938 1.043a2.714 2.714 0 0 1-3.825.198 2.702 2.702 0 0 1-.891-2.151l.072-1.4a1.2 1.2 0 0 0-.31-.87 1.197 1.197 0 0 0-.835-.396l-.033-.002-.03-.001c-.02 0-.04 0-.06.002l-1.401.072a2.708 2.708 0 0 1-1.951-4.717l1.041-.94a1.21 1.21 0 0 0-.001-1.795l-1.041-.939a2.714 2.714 0 0 1-.182-3.829 2.712 2.712 0 0 1 2.128-.883l1.404.072.068.002c.296 0 .582-.111.804-.312a1.206 1.206 0 0 0 .398-.964l-.072-1.4A2.713 2.713 0 0 1 8.155.001zm-.002 1.497l-.06.001a1.222 1.222 0 0 0-1.15 1.272l.072 1.399A2.709 2.709 0 0 1 4.17 7.019l-1.4-.072-.05-.001a1.21 1.21 0 0 0-.815 2.103l1.039.938a2.69 2.69 0 0 1 .89 2.149 2.692 2.692 0 0 1-.89 1.873l-1.041.94a1.206 1.206 0 0 0-.398.958 1.211 1.211 0 0 0 1.214 1.148l.056-.001 1.397-.072a2.069 2.069 0 0 1 .275 0 2.69 2.69 0 0 1 1.872.888c.485.537.732 1.23.696 1.952l-.072 1.401a1.206 1.206 0 0 0 1.207 1.27c.343 0 .67-.145.899-.399l.94-1.042a2.703 2.703 0 0 1 2.01-.892c.766 0 1.5.325 2.012.893l.94 1.042c.231.256.551.396.901.396l.056-.001a1.21 1.21 0 0 0 1.147-1.266l-.072-1.398a2.696 2.696 0 0 1 .89-2.15 2.715 2.715 0 0 1 1.953-.695l1.402.072.067.002c.344 0 .661-.142.893-.4a1.205 1.205 0 0 0-.087-1.707l-1.042-.941a2.688 2.688 0 0 1-.89-2.149 2.692 2.692 0 0 1 .89-1.873l1.042-.94c.273-.246.418-.597.399-.964a1.205 1.205 0 0 0-1.199-1.145l-.071.002-1.403.072a3.087 3.087 0 0 1-.275 0 2.691 2.691 0 0 1-1.873-.889 2.693 2.693 0 0 1-.697-1.954l.072-1.401a1.203 1.203 0 0 0-.395-.953 1.21 1.21 0 0 0-1.708.083l-.938 1.04a2.7 2.7 0 0 1-2.149.89 2.69 2.69 0 0 1-1.872-.89l-.94-1.038c-.23-.254-.557-.4-.899-.4zm3.846 5.25a5.256 5.256 0 0 1 5.25 5.25 5.256 5.256 0 0 1-5.25 5.25 5.256 5.256 0 0 1-5.25-5.25 5.256 5.256 0 0 1 5.25-5.25zm0 1.5a3.754 3.754 0 0 0-3.75 3.75 3.754 3.754 0 0 0 3.75 3.75 3.754 3.754 0 0 0 3.75-3.75 3.754 3.754 0 0 0-3.75-3.75z"></path></g></svg></span><span class="inline-block">Your Account</span></a></div></div><div><div class="
      bg-transparent block cursor-pointer focusable rounded-sm
      mx-2
      text-base type-body-sm
      hover:bg-front hover:text-strong
      active:bg-front active:text-strong
    "><button class="
        bg-transparent cursor-pointer focusable-text inline p-0 underline
        no-underline space-x-2 py-1 px-4 flex w-full
      " type="button"><span class="inline-flex w-4 pt-1"><svg aria-label="Feedback Icon" class="
    align-baseline fill-current inline-block relative
    
    
    h-em w-em
    
    text-accent
  " height="24" role="img" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title>Feedback Icon</title><g aria-hidden="true"><path d="M20.5 3.5A2.5 2.5 0 0 1 23 6v12a2.5 2.5 0 0 1-2.5 2.5h-4.879L12 24l-3.621-3.5H3.5A2.5 2.5 0 0 1 1 18V6a2.5 2.5 0 0 1 2.5-2.5h17zm0 1.5h-17l-.117.007A1 1 0 0 0 2.5 6v12l.007.117A1 1 0 0 0 3.5 19h5.086l.131.009a1 1 0 0 1 .576.284L12 22l2.707-2.707.1-.087a1 1 0 0 1 .607-.206H20.5l.117-.007A1 1 0 0 0 21.5 18V6l-.007-.117A1 1 0 0 0 20.5 5zM7 10.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3z"></path></g></svg></span><span class="inline-block">Give Feedback</span></button></div></div><div><div class="
      bg-transparent block cursor-pointer focusable rounded-sm
      mx-2
      text-base type-body-sm
      hover:bg-front hover:text-strong
      active:bg-front active:text-strong
    "><a class="no-underline space-x-2 py-1 px-4 flex w-full" href="https://www.executeprogram.com/logout"><span class="inline-flex w-4 pt-1"><svg aria-label="Log Out Icon" class="
    align-baseline fill-current inline-block relative
    
    
    h-em w-em
    
    text-accent
  " height="24" role="img" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title>Log Out Icon</title><g aria-hidden="true"><path d="M11.8 2c.397 0 .72.353.72.75s-.323.75-.72.75H4.166c-.4 0-.667.425-.667.826V19.84c0 .397.265.66.661.66h15.52c.397 0 .819-.263.819-.66v-7.63c0-.397.353-.76.75-.76s.75.363.75.76v7.63c0 1.191-1.128 2.16-2.319 2.16H4.16C2.97 22 2 21.031 2 19.84V4.326C2 3.132 2.972 2 4.166 2zm9.248 0c.166 0 .32.054.445.146l.052.042.05.05.031.035a.746.746 0 0 1 .172.568v4.752a.75.75 0 0 1-1.5 0l.002-3.022-9.02 9.018a.75.75 0 0 1-.984.067l-.076-.067a.75.75 0 0 1-.073-.977l.073-.084 9.029-9.027-3.044-.001a.75.75 0 1 1 0-1.5h4.843z"></path></g></svg></span><span class="inline-block">Log Out</span></a></div></div></div></nav></div></div></header><main class="flex flex-grow items-center justify-center"><div class="box-content max-w-2xl mx-auto px-4 py-16 tall:pb-32 xtall:pb-64 space-y-8 w-full"><h1 class="text-strong type-h2">Advanced TypeScript: Generic constraints</h1><div class="
      copy relative tone-cautious
      
      bg-base block p-2 rounded-sm sm:rounded text-base
      text-sm sm:text-md
      sm:p-4
      -mx-2 sm:-mx-4
      mb-16
    "><p>You already finished this lesson. You can read through it here,
 or use the button below to repeat the whole lesson interactively.</p><button class="

    button tone-accent
    border-2 border-control cursor-pointer font-bold font-mono group
    inline-flex items-center justify-between leading-none no-underline rounded
    space-x-2 whitespace-nowrap
    hover:shadow-md
    focusable
    bg-control text-control
    px-4 py-2
    text-md
    
    
  " tabindex="0" type="button"><span>Start Interactive Lesson</span></button></div><ul class="space-y-8"><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>Suppose that we want a function that gives us only the users under a certain age.
It takes a <code>User[]</code> and a <code>number</code> as the age limit, then returns a <code>User[]</code>.</p>
</div></div></li><li class="
          step
          finished-step
        "><div class="Example"><div class="space-y-2"><div class="
      bg-base -mx-4 p-4 text-base shadow
      focus-within:shadow-lg
      md:rounded-md
    "><div class="flex"><pre class="mr-2">&gt;</pre><pre class="cm-s-execprog"><span class="cm-keyword">type</span> <span class="cm-type">User</span> <span class="cm-operator">=</span> {
  <span class="cm-property">name</span>: <span class="cm-type">string</span>
  <span class="cm-property">age</span>: <span class="cm-type">number</span>
};

<span class="cm-keyword">function</span> <span class="cm-def">filterBelowAge</span>(<span class="cm-def">users</span>: <span class="cm-type">User</span>[], <span class="cm-def">limit</span>: <span class="cm-type">number</span>): <span class="cm-type">User</span>[] {
  <span class="cm-keyword">return</span> <span class="cm-variable-2">users</span>.<span class="cm-property">filter</span>(<span class="cm-def">user</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">user</span>.<span class="cm-property">age</span> <span class="cm-operator">&lt;</span> <span class="cm-variable-2">limit</span>);
}

<span class="cm-keyword">const</span> <span class="cm-def">users</span> <span class="cm-operator">=</span> [
  {<span class="cm-property">name</span>: <span class="cm-string">'Amir'</span>, <span class="cm-property">age</span>: <span class="cm-number">36</span>},
  {<span class="cm-property">name</span>: <span class="cm-string">'Gabriel'</span>, <span class="cm-property">age</span>: <span class="cm-number">7</span>},
];
<span class="cm-keyword">const</span> <span class="cm-def">youngUsers</span> <span class="cm-operator">=</span> <span class="cm-variable">filterBelowAge</span>(<span class="cm-variable">users</span>, <span class="cm-number">10</span>);
<span class="cm-variable">youngUsers</span>.<span class="cm-property">map</span>(<span class="cm-def">user</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">user</span>.<span class="cm-property">name</span>);</pre></div><h6 class="font-bold inline-block text-muted tracking-wider type-code-sm uppercase">Result:</h6><div class="
      text-muted
      tone-positive
    "><pre>['Gabriel']<svg aria-label="Pass Icon" class="
    align-baseline fill-current inline-block relative
    
    
    h-em w-em
    
    
      tone-positive tone-as-loud
      bg-control h-em ml-2
      rounded-full text-control top-[0.2em] w-em
    
  " height="24" role="img" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title>Pass Icon</title><g aria-hidden="true"><path d="M8.75 17.882l-4.359-4.359a.75.75 0 0 1 1.06-1.06l4.006 4.005 9.005-9.006a.75.75 0 0 1 1.061 1.061l-9.359 9.359a1 1 0 0 1-1.414 0z"></path></g></svg></pre></div><div class="text-muted type-code-sm"></div><div class="flex sm-down:flex-col sm-down:space-y-2"></div></div></div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>Now let's make it more difficult.
We want our function to work on any object that has an <code>age: number</code> property.
It should work for users, for cats, for buildings, for companies, and for any other object with an age.
As a first attempt, we can try to use a union.</p>
</div></div></li><li class="
          step
          finished-step
        "><div class="Example"><div class="bg-base mb-8 -mx-4 p-4 md:rounded-md shadow"><div><div class="flex"><pre class="mr-2">&gt;</pre><pre class="cm-s-execprog"><span class="cm-keyword">type</span> <span class="cm-type">User</span> <span class="cm-operator">=</span> {<span class="cm-property">name</span>: <span class="cm-type">string</span>, <span class="cm-property">age</span>: <span class="cm-type">number</span>, <span class="cm-property">country</span>: <span class="cm-type">string</span>};
<span class="cm-keyword">type</span> <span class="cm-type">Cat</span> <span class="cm-operator">=</span> {<span class="cm-property">name</span>: <span class="cm-type">string</span>, <span class="cm-property">age</span>: <span class="cm-type">number</span>, <span class="cm-property">vaccinated</span>: <span class="cm-type">boolean</span>};

<span class="cm-keyword">function</span> <span class="cm-def">filterBelowAge</span>(
  <span class="cm-def">things</span>: <span class="cm-type">Array</span><span class="cm-operator">&lt;</span><span class="cm-type">User</span> <span class="cm-operator">|</span> <span class="cm-type">Cat</span><span class="cm-operator">&gt;</span>,
  <span class="cm-def">limit</span>: <span class="cm-type">number</span>
): <span class="cm-type">Array</span><span class="cm-operator">&lt;</span><span class="cm-type">User</span> <span class="cm-operator">|</span> <span class="cm-type">Cat</span><span class="cm-operator">&gt;</span> {
  <span class="cm-keyword">return</span> <span class="cm-variable-2">things</span>.<span class="cm-property">filter</span>(<span class="cm-def">thing</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">thing</span>.<span class="cm-property">age</span> <span class="cm-operator">&lt;</span> <span class="cm-variable-2">limit</span>);
}</pre></div></div><div><div></div></div></div><div class="mb-8"></div></div></li><li class="
          step
          finished-step
        "><div class="Example"><div class="space-y-2"><div class="
      bg-base -mx-4 p-4 text-base shadow
      focus-within:shadow-lg
      md:rounded-md
    "><div class="mb-2"><div class="tone-cautious text-muted text-sm">Note: this code example reuses elements (variables, etc.) defined in earlier examples.</div></div><div class="flex"><pre class="mr-2">&gt;</pre><pre class="cm-s-execprog"><span class="cm-keyword">const</span> <span class="cm-def">peopleAndCats</span> <span class="cm-operator">=</span> [
  {<span class="cm-property">name</span>: <span class="cm-string">'Amir'</span>, <span class="cm-property">age</span>: <span class="cm-number">36</span>, <span class="cm-property">country</span>: <span class="cm-string">'France'</span>},
  {<span class="cm-property">name</span>: <span class="cm-string">'Ms. Fluff'</span>, <span class="cm-property">age</span>: <span class="cm-number">4</span>, <span class="cm-property">vaccinated</span>: <span class="cm-atom">true</span>},
];

<span class="cm-keyword">const</span> <span class="cm-def">youngOnly</span> <span class="cm-operator">=</span> <span class="cm-variable">filterBelowAge</span>(<span class="cm-variable">peopleAndCats</span>, <span class="cm-number">10</span>);
<span class="cm-variable">youngOnly</span>.<span class="cm-property">map</span>(<span class="cm-def">thing</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">thing</span>.<span class="cm-property">name</span>);</pre></div><h6 class="font-bold inline-block text-muted tracking-wider type-code-sm uppercase">Result:</h6><div class="
      text-muted
      tone-positive
    "><pre>['Ms. Fluff']<svg aria-label="Pass Icon" class="
    align-baseline fill-current inline-block relative
    
    
    h-em w-em
    
    
      tone-positive tone-as-loud
      bg-control h-em ml-2
      rounded-full text-control top-[0.2em] w-em
    
  " height="24" role="img" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title>Pass Icon</title><g aria-hidden="true"><path d="M8.75 17.882l-4.359-4.359a.75.75 0 0 1 1.06-1.06l4.006 4.005 9.005-9.006a.75.75 0 0 1 1.061 1.061l-9.359 9.359a1 1 0 0 1-1.414 0z"></path></g></svg></pre></div><div class="text-muted type-code-sm"></div><div class="flex sm-down:flex-col sm-down:space-y-2"></div></div></div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>That seems to work, but there are two problems.
First, it doesn't actually solve the problem that we set up!
We wanted a function that works for any object with an age property, but this one only works for users and cats.</p>
</div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>Second, the <code>Array&lt;User | Cat&gt;</code> return type is a big problem.
If we use <code>filterBelowAge</code> on an array of users, we expect to get an array of users back.
Unfortunately, we'll always get an <code>Array&lt;User | Cat&gt;</code> instead.
Trying to use it as an <code>Array&lt;User&gt;</code> is a type error.</p>
</div></div></li><li class="
          step
          finished-step
        "><div class="Example"><div class="space-y-2"><div class="
      bg-base -mx-4 p-4 text-base shadow
      focus-within:shadow-lg
      md:rounded-md
    "><div class="mb-2"><div class="tone-cautious text-muted text-sm">Note: this code example reuses elements (variables, etc.) defined in earlier examples.</div></div><div class="flex"><pre class="mr-2">&gt;</pre><pre class="cm-s-execprog"><span class="cm-keyword">const</span> <span class="cm-def">users</span>: <span class="cm-type">User</span>[] <span class="cm-operator">=</span> [
  {<span class="cm-property">name</span>: <span class="cm-string">'Amir'</span>, <span class="cm-property">age</span>: <span class="cm-number">36</span>, <span class="cm-property">country</span>: <span class="cm-string">'France'</span>},
];

<span class="cm-keyword">const</span> <span class="cm-def">youngOnly</span>: <span class="cm-type">User</span>[] <span class="cm-operator">=</span> <span class="cm-variable">filterBelowAge</span>(<span class="cm-variable">users</span>, <span class="cm-number">10</span>);</pre></div><h6 class="font-bold inline-block text-muted tracking-wider type-code-sm uppercase">Result:</h6><div class="
      text-muted
      tone-positive
    "><pre>type error: Type '(User | Cat)[]' is not assignable to type 'User[]'.
  Type 'User | Cat' is not assignable to type 'User'.
    Property 'country' is missing in type 'Cat' but required in type 'User'.<svg aria-label="Pass Icon" class="
    align-baseline fill-current inline-block relative
    
    
    h-em w-em
    
    
      tone-positive tone-as-loud
      bg-control h-em ml-2
      rounded-full text-control top-[0.2em] w-em
    
  " height="24" role="img" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title>Pass Icon</title><g aria-hidden="true"><path d="M8.75 17.882l-4.359-4.359a.75.75 0 0 1 1.06-1.06l4.006 4.005 9.005-9.006a.75.75 0 0 1 1.061 1.061l-9.359 9.359a1 1 0 0 1-1.414 0z"></path></g></svg></pre></div><div class="text-muted type-code-sm"></div><div class="flex sm-down:flex-col sm-down:space-y-2"></div></div></div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>So much for that potential solution.
Now let's sketch out what an ideal solution would look like.</p>
</div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>We want a function that works with any type that has <code>age: number</code>.
The objects may have other properties too, but our function's body shouldn't be able to see those properties.
From our function's perspective, everything should look like an <code>{age: number}</code>.</p>
</div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>However, our function should return the full type, not just <code>{age: number}</code>.
If we pass an <code>Array&lt;User&gt;</code>, we want to get an <code>Array&lt;User&gt;</code> back, not an <code>Array&lt;{age: number}&gt;</code>.
If we pass an <code>Array&lt;Cat&gt;</code>, we want an <code>Array&lt;Cat&gt;</code> back.
Likewise for any other type, including types that didn't exist when we wrote the function.</p>
</div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>When a function needs to work with any type, we know that it must involve some kind of generic.
As a first attempt, we'll add a simple <code>&lt;T&gt;</code> type parameter.
The function now takes an <code>Array&lt;T&gt;</code> and returns an <code>Array&lt;T&gt;</code>.
Unfortunately, nothing in that type says "these <code>T</code>s will have an <code>age</code> property", so trying to access <code>.age</code> is a type error.</p>
</div></div></li><li class="
          step
          finished-step
        "><div class="Example"><div class="space-y-2"><div class="
      bg-base -mx-4 p-4 text-base shadow
      focus-within:shadow-lg
      md:rounded-md
    "><div class="flex"><pre class="mr-2">&gt;</pre><pre class="cm-s-execprog"><span class="cm-keyword">function</span> <span class="cm-def">filterBelowAge</span><span class="cm-operator">&lt;</span><span class="cm-type">T</span><span class="cm-operator">&gt;</span>(<span class="cm-def">things</span>: <span class="cm-type">Array</span><span class="cm-operator">&lt;</span><span class="cm-type">T</span><span class="cm-operator">&gt;</span>, <span class="cm-def">limit</span>: <span class="cm-type">number</span>): <span class="cm-type">Array</span><span class="cm-operator">&lt;</span><span class="cm-type">T</span><span class="cm-operator">&gt;</span> {
  <span class="cm-keyword">return</span> <span class="cm-variable-2">things</span>.<span class="cm-property">filter</span>(<span class="cm-def">thing</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">thing</span>.<span class="cm-property">age</span> <span class="cm-operator">&lt;</span> <span class="cm-variable-2">limit</span>);
}</pre></div><h6 class="font-bold inline-block text-muted tracking-wider type-code-sm uppercase">Result:</h6><div class="
      text-muted
      tone-positive
    "><pre>type error: Property 'age' does not exist on type 'T'.<svg aria-label="Pass Icon" class="
    align-baseline fill-current inline-block relative
    
    
    h-em w-em
    
    
      tone-positive tone-as-loud
      bg-control h-em ml-2
      rounded-full text-control top-[0.2em] w-em
    
  " height="24" role="img" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title>Pass Icon</title><g aria-hidden="true"><path d="M8.75 17.882l-4.359-4.359a.75.75 0 0 1 1.06-1.06l4.006 4.005 9.005-9.006a.75.75 0 0 1 1.061 1.061l-9.359 9.359a1 1 0 0 1-1.414 0z"></path></g></svg></pre></div><div class="text-muted type-code-sm"></div><div class="flex sm-down:flex-col sm-down:space-y-2"></div></div></div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>To solve this problem, we need a new TypeScript feature: generic constraints.
Constraints let us say "this can be any type... as long as it's compatible with this other type".
In our case, we want our function to take and return arrays of any type that's compatible with <code>{age: number}</code>.</p>
</div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>We do this by adding the generic constraint <code>&lt;T extends {age: number}&gt;</code>.
In TypeScript, we can always add <code>extends ...</code> to a generic type parameter.
Anywhere we can write <code>&lt;T&gt;</code>, we can also write <code>&lt;T extends ...&gt;</code>.</p>
</div></div></li><li class="
          step
          finished-step
        "><div class="Example"><div class="bg-base mb-8 -mx-4 p-4 md:rounded-md shadow"><div><div class="flex"><pre class="mr-2">&gt;</pre><pre class="cm-s-execprog"><span class="cm-keyword">function</span> <span class="cm-def">filterBelowAge</span><span class="cm-operator">&lt;</span><span class="cm-type">T</span> <span class="cm-keyword">extends</span> {<span class="cm-property">age</span>: <span class="cm-type">number</span>}<span class="cm-operator">&gt;</span>(
  <span class="cm-def">things</span>: <span class="cm-type">Array</span><span class="cm-operator">&lt;</span><span class="cm-type">T</span><span class="cm-operator">&gt;</span>,
  <span class="cm-def">limit</span>: <span class="cm-type">number</span>
): <span class="cm-type">Array</span><span class="cm-operator">&lt;</span><span class="cm-type">T</span><span class="cm-operator">&gt;</span> {
  <span class="cm-keyword">return</span> <span class="cm-variable-2">things</span>.<span class="cm-property">filter</span>(<span class="cm-def">thing</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">thing</span>.<span class="cm-property">age</span> <span class="cm-operator">&lt;</span> <span class="cm-variable-2">limit</span>);
}</pre></div></div><div><div></div></div></div><div class="mb-8"></div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>Now our function works!
When we pass an array of users, we get an array of users back.
But we can also pass cats and get cats back, and likewise for any other object type that has an age.</p>
</div></div></li><li class="
          step
          finished-step
        "><div class="Example"><div class="space-y-2"><div class="
      bg-base -mx-4 p-4 text-base shadow
      focus-within:shadow-lg
      md:rounded-md
    "><div class="mb-2"><div class="tone-cautious text-muted text-sm">Note: this code example reuses elements (variables, etc.) defined in earlier examples.</div></div><div class="flex"><pre class="mr-2">&gt;</pre><pre class="cm-s-execprog"><span class="cm-keyword">type</span> <span class="cm-type">User</span> <span class="cm-operator">=</span> {<span class="cm-property">name</span>: <span class="cm-type">string</span>, <span class="cm-property">age</span>: <span class="cm-type">number</span>, <span class="cm-property">country</span>: <span class="cm-type">string</span>};

<span class="cm-keyword">const</span> <span class="cm-def">allUsers</span>: <span class="cm-type">User</span>[] <span class="cm-operator">=</span> [
  {<span class="cm-property">name</span>: <span class="cm-string">'Amir'</span>, <span class="cm-property">age</span>: <span class="cm-number">36</span>, <span class="cm-property">country</span>: <span class="cm-string">'France'</span>},
  {<span class="cm-property">name</span>: <span class="cm-string">'Gabriel'</span>, <span class="cm-property">age</span>: <span class="cm-number">7</span>, <span class="cm-property">country</span>: <span class="cm-string">'France'</span>},
];
<span class="cm-keyword">const</span> <span class="cm-def">youngUsers</span>: <span class="cm-type">User</span>[] <span class="cm-operator">=</span> <span class="cm-variable">filterBelowAge</span>(<span class="cm-variable">allUsers</span>, <span class="cm-number">10</span>);
<span class="cm-variable">youngUsers</span>.<span class="cm-property">map</span>(<span class="cm-def">user</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">user</span>.<span class="cm-property">name</span>);</pre></div><h6 class="font-bold inline-block text-muted tracking-wider type-code-sm uppercase">Result:</h6><div class="
      text-muted
      tone-positive
    "><pre>['Gabriel']<svg aria-label="Pass Icon" class="
    align-baseline fill-current inline-block relative
    
    
    h-em w-em
    
    
      tone-positive tone-as-loud
      bg-control h-em ml-2
      rounded-full text-control top-[0.2em] w-em
    
  " height="24" role="img" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title>Pass Icon</title><g aria-hidden="true"><path d="M8.75 17.882l-4.359-4.359a.75.75 0 0 1 1.06-1.06l4.006 4.005 9.005-9.006a.75.75 0 0 1 1.061 1.061l-9.359 9.359a1 1 0 0 1-1.414 0z"></path></g></svg></pre></div><div class="text-muted type-code-sm"></div><div class="flex sm-down:flex-col sm-down:space-y-2"></div></div></div></div></li><li class="
          step
          finished-step
        "><div class="Example"><div class="space-y-2"><div class="
      bg-base -mx-4 p-4 text-base shadow
      focus-within:shadow-lg
      md:rounded-md
    "><div class="mb-2"><div class="tone-cautious text-muted text-sm">Note: this code example reuses elements (variables, etc.) defined in earlier examples.</div></div><div class="flex"><pre class="mr-2">&gt;</pre><pre class="cm-s-execprog"><span class="cm-keyword">type</span> <span class="cm-type">Cat</span> <span class="cm-operator">=</span> {<span class="cm-property">name</span>: <span class="cm-type">string</span>, <span class="cm-property">age</span>: <span class="cm-type">number</span>, <span class="cm-property">vaccinated</span>: <span class="cm-type">boolean</span>};

<span class="cm-keyword">const</span> <span class="cm-def">allCats</span>: <span class="cm-type">Cat</span>[] <span class="cm-operator">=</span> [
  {<span class="cm-property">name</span>: <span class="cm-string">'Ms. Fluff'</span>, <span class="cm-property">age</span>: <span class="cm-number">4</span>, <span class="cm-property">vaccinated</span>: <span class="cm-atom">true</span>},
  {<span class="cm-property">name</span>: <span class="cm-string">'Wilford'</span>, <span class="cm-property">age</span>: <span class="cm-number">17</span>, <span class="cm-property">vaccinated</span>: <span class="cm-atom">true</span>},
];
<span class="cm-keyword">const</span> <span class="cm-def">youngCats</span>: <span class="cm-type">Cat</span>[] <span class="cm-operator">=</span> <span class="cm-variable">filterBelowAge</span>(<span class="cm-variable">allCats</span>, <span class="cm-number">10</span>);
<span class="cm-variable">youngCats</span>.<span class="cm-property">map</span>(<span class="cm-def">cat</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">cat</span>.<span class="cm-property">name</span>);</pre></div><h6 class="font-bold inline-block text-muted tracking-wider type-code-sm uppercase">Result:</h6><div class="
      text-muted
      tone-positive
    "><pre>['Ms. Fluff']<svg aria-label="Pass Icon" class="
    align-baseline fill-current inline-block relative
    
    
    h-em w-em
    
    
      tone-positive tone-as-loud
      bg-control h-em ml-2
      rounded-full text-control top-[0.2em] w-em
    
  " height="24" role="img" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title>Pass Icon</title><g aria-hidden="true"><path d="M8.75 17.882l-4.359-4.359a.75.75 0 0 1 1.06-1.06l4.006 4.005 9.005-9.006a.75.75 0 0 1 1.061 1.061l-9.359 9.359a1 1 0 0 1-1.414 0z"></path></g></svg></pre></div><div class="text-muted type-code-sm"></div><div class="flex sm-down:flex-col sm-down:space-y-2"></div></div></div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>Here's a mental model for thinking about generic constraints.
They carve the world of types in half.
There's the type world inside the function, and there's a separate type world outside.</p>
</div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>Inside the function, <code>T</code> always has the property <code>age: number</code>.
That forces us to write the function in a way that works for any object with an age.
Using the type in any other way is a type error.
In our case, <code>T extends {age: number}</code> doesn't say anything about a <code>name</code> property, so accessing <code>.name</code> is a type error.</p>
</div></div></li><li class="
          step
          finished-step
        "><div class="Example"><div class="space-y-2"><div class="
      bg-base -mx-4 p-4 text-base shadow
      focus-within:shadow-lg
      md:rounded-md
    "><div class="flex"><pre class="mr-2">&gt;</pre><pre class="cm-s-execprog"><span class="cm-keyword">function</span> <span class="cm-def">filterBelowAge</span><span class="cm-operator">&lt;</span><span class="cm-type">T</span> <span class="cm-keyword">extends</span> {<span class="cm-property">age</span>: <span class="cm-type">number</span>}<span class="cm-operator">&gt;</span>(
  <span class="cm-def">things</span>: <span class="cm-type">Array</span><span class="cm-operator">&lt;</span><span class="cm-type">T</span><span class="cm-operator">&gt;</span>,
  <span class="cm-def">limit</span>: <span class="cm-type">number</span>
): <span class="cm-type">Array</span><span class="cm-operator">&lt;</span><span class="cm-type">T</span><span class="cm-operator">&gt;</span> {
  <span class="cm-keyword">return</span> <span class="cm-variable-2">things</span>.<span class="cm-property">filter</span>(<span class="cm-def">thing</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">thing</span>.<span class="cm-property">name</span> <span class="cm-operator">===</span> <span class="cm-string">'Amir'</span>);
}</pre></div><h6 class="font-bold inline-block text-muted tracking-wider type-code-sm uppercase">Result:</h6><div class="
      text-muted
      tone-positive
    "><pre>type error: Property 'name' does not exist on type 'T'.<svg aria-label="Pass Icon" class="
    align-baseline fill-current inline-block relative
    
    
    h-em w-em
    
    
      tone-positive tone-as-loud
      bg-control h-em ml-2
      rounded-full text-control top-[0.2em] w-em
    
  " height="24" role="img" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title>Pass Icon</title><g aria-hidden="true"><path d="M8.75 17.882l-4.359-4.359a.75.75 0 0 1 1.06-1.06l4.006 4.005 9.005-9.006a.75.75 0 0 1 1.061 1.061l-9.359 9.359a1 1 0 0 1-1.414 0z"></path></g></svg></pre></div><div class="text-muted type-code-sm"></div><div class="flex sm-down:flex-col sm-down:space-y-2"></div></div></div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>The function body's types are only checked once.
If the function type checks, then the compiler continues.
But our function might be called in many places: sometimes with users, sometimes with cats, sometimes with buildings.
Each of those calls is type checked separately.</p>
</div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>Now we can see what generic constraints really do.
They're a way to voluntarily constrain ourselves, so that we can only see a small piece of a type inside of the function.
That allows our function to work with any type that has that piece.
From the outside, it looks like our function was purpose-built for users or cats or buildings or companies.
But in reality, it wasn't purpose-built for anything; it was written to work with any object that has an age.</p>
</div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>As usual, everything here is safe and the static types are enforced.
If we try to pass objects without an <code>age: number</code> property, that's a type error.</p>
</div></div></li><li class="
          step
          finished-step
        "><div class="Example"><div class="space-y-2"><div class="
      bg-base -mx-4 p-4 text-base shadow
      focus-within:shadow-lg
      md:rounded-md
    "><div class="flex"><pre class="mr-2">&gt;</pre><pre class="cm-s-execprog"><span class="cm-keyword">function</span> <span class="cm-def">filterBelowAge</span><span class="cm-operator">&lt;</span><span class="cm-type">T</span> <span class="cm-keyword">extends</span> {<span class="cm-property">age</span>: <span class="cm-type">number</span>}<span class="cm-operator">&gt;</span>(
  <span class="cm-def">things</span>: <span class="cm-type">Array</span><span class="cm-operator">&lt;</span><span class="cm-type">T</span><span class="cm-operator">&gt;</span>,
  <span class="cm-def">limit</span>: <span class="cm-type">number</span>
): <span class="cm-type">Array</span><span class="cm-operator">&lt;</span><span class="cm-type">T</span><span class="cm-operator">&gt;</span> {
  <span class="cm-keyword">return</span> <span class="cm-variable-2">things</span>.<span class="cm-property">filter</span>(<span class="cm-def">thing</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">thing</span>.<span class="cm-property">age</span> <span class="cm-operator">&lt;</span> <span class="cm-variable-2">limit</span>);
}

<span class="cm-keyword">type</span> <span class="cm-type">Album</span> <span class="cm-operator">=</span> {<span class="cm-property">name</span>: <span class="cm-type">string</span>, <span class="cm-property">copiesSold</span>: <span class="cm-type">number</span>};

<span class="cm-keyword">const</span> <span class="cm-def">allAlbums</span>: <span class="cm-type">Album</span>[] <span class="cm-operator">=</span> [
  {<span class="cm-property">name</span>: <span class="cm-string">'The Dark Side of the Moon'</span>, <span class="cm-property">copiesSold</span>: <span class="cm-number">24400000</span>},
];
<span class="cm-variable">filterBelowAge</span>(<span class="cm-variable">allAlbums</span>, <span class="cm-number">10</span>).<span class="cm-property">map</span>(<span class="cm-def">album</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">album</span>.<span class="cm-property">name</span>);</pre></div><h6 class="font-bold inline-block text-muted tracking-wider type-code-sm uppercase">Result:</h6><div class="
      text-muted
      tone-positive
    "><pre>type error: Argument of type 'Album[]' is not assignable to parameter of type '{ age: number; }[]'.
  Property 'age' is missing in type 'Album' but required in type '{ age: number; }'.<svg aria-label="Pass Icon" class="
    align-baseline fill-current inline-block relative
    
    
    h-em w-em
    
    
      tone-positive tone-as-loud
      bg-control h-em ml-2
      rounded-full text-control top-[0.2em] w-em
    
  " height="24" role="img" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title>Pass Icon</title><g aria-hidden="true"><path d="M8.75 17.882l-4.359-4.359a.75.75 0 0 1 1.06-1.06l4.006 4.005 9.005-9.006a.75.75 0 0 1 1.061 1.061l-9.359 9.359a1 1 0 0 1-1.414 0z"></path></g></svg></pre></div><div class="text-muted type-code-sm"></div><div class="flex sm-down:flex-col sm-down:space-y-2"></div></div></div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>We've seen that our <code>filterBelowAge</code> function works, but what is the compiler actually doing when we call it?
Here's a rough explanation, examining only the case where we pass an <code>Array&lt;User&gt;</code>.</p>
</div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><ol>
<li>The function's first parameter is declared as <code>Array&lt;T&gt;</code>.
We're passing an <code>Array&lt;User&gt;</code>, so TypeScript infers that <code>T</code> in this case must be <code>User</code>.</li>
<li>But <code>T</code> is declared as <code>&lt;T extends {age: number}&gt;</code>.
Does <code>User</code> satisfy <code>{age: number}</code>?
Yes, it has the required <code>age</code> property, so we can continue.</li>
<li>The function's return type is <code>Array&lt;T&gt;</code>.
We know that <code>T</code> is <code>User</code>, so in this case the function returns an <code>Array&lt;User&gt;</code>.</li>
<li>We're assigning the function's return value to a <code>User[]</code> variable.
That's the same as the return type, <code>Array&lt;User&gt;</code>, so everything type checks.</li>
</ol>
</div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>When we pass cats to <code>filterBelowAge</code>, TypeScript follows exactly the same process, but with cats instead of users.</p>
</div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>When you start learning TypeScript, problems like the one in this lesson can seem daunting.
"How can I write a function that returns a user when given a user, returns a cat when given a cat, etc.?"
It can seem impossible, which leads us to reach for <code>any</code>.
But with <code>any</code>, we lose all type safety!</p>
</div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>With the generic constraints feature that we saw in this lesson, we solve that problem while retaining type safety.
The function itself is fully type checked.
When we call the function, that's fully type checked too.
If we pass an array of users, we get an array of users back, with all of their properties intact.</p>
</div></div></li><li class="
          step
          finished-step
        "><div class="
      copy relative tone-positive
      
      bg-base block p-2 rounded-sm sm:rounded text-base
      text-sm sm:text-md
      sm:p-4
      -mx-2 sm:-mx-4
      mb-4 bg-back text-base
    "><p>Here's a code problem:</p></div><div class="mb-4 space-y-4"><div class="copy type-code text-muted"><p>We're writing code to manage a veterinary office.
So far, we have two types: <code>Animal</code>, which has a <code>species</code> property, and <code>Appointment</code>, which has an <code>Animal</code>.
The <code>Appointment</code> type is generic: any animal can come in for an appointment.</p>
</div></div><div class="mb-4 space-y-4"><div class="copy type-code text-muted"><p>We also have a <code>getAppointmentSpecies</code> function: given an appointment, it should return the species of the animal coming in for that appointment.
That function currently causes a type error: its generic constraint is missing.
Add a generic constraint to fix that type error.</p>
</div></div><div class="mb-4 space-y-4"><div class="copy type-code text-muted"><p>(You don't need to change the body of the function here.
You only need to add the generic constraint.)</p>
</div></div><div class="space-y-2 text-base type-code"><div class="bg-base -mx-4 p-4 md:rounded-md shadow space-y-4"><div class="ml-px"><div class="type-code"><textarea style="display: none;"></textarea><div class="CodeMirror cm-s-execprog-readonly CodeMirror-wrap" translate="no" style="height: 178px;"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5px; left: 35px;"><textarea style="position: absolute; bottom: -1em; padding: 0px; width: 1px; height: 1em; min-height: 1em; outline: none;" autocorrect="off" autocapitalize="none" spellcheck="false" readonly="readonly" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="height: 18px; pointer-events: none;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 50px; min-height: 176px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div style="position: relative; outline: none;" role="presentation"><div class="CodeMirror-measure"><span><span></span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 24px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation" style=""><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;" aria-hidden="true"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-keyword">type</span> <span class="cm-type">Animal</span> <span class="cm-operator">=</span> {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;" aria-hidden="true"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"> &nbsp;<span class="cm-property">species</span>: <span class="cm-type">string</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;" aria-hidden="true"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation">};</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;" aria-hidden="true"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span cm-text=""></span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;" aria-hidden="true"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-keyword">type</span> <span class="cm-type">Appointment</span><span class="cm-operator">&lt;</span><span class="cm-type">A</span> <span class="cm-keyword">extends</span> <span class="cm-type">Animal</span><span class="cm-operator">&gt;</span> <span class="cm-operator">=</span> {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;" aria-hidden="true"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"> &nbsp;<span class="cm-property">animal</span>: <span class="cm-type">A</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;" aria-hidden="true"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation">};</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 50px; width: 1px; border-bottom: 0px solid transparent; top: 176px;"></div><div class="CodeMirror-gutters" style="height: 226px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></div></div><div class="
          my-4
          finished
          
        " style="max-width: calc(100% + 1rem);"><div class=""><div class="type-code"><textarea style="display: none;"></textarea><div class="CodeMirror cm-s-execprog-readonly CodeMirror-wrap" translate="no" style="height: 226px;"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5px; left: 35px;"><textarea style="position: absolute; bottom: -1em; padding: 0px; width: 1px; height: 1em; min-height: 1em; outline: none;" autocorrect="off" autocapitalize="none" spellcheck="false" readonly="readonly" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="height: 18px; pointer-events: none;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 50px; min-height: 128px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div style="position: relative; outline: none;" role="presentation"><div class="CodeMirror-measure"><pre class="CodeMirror-line-like"><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>1</div></div><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>12</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 24px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation" style=""><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;" aria-hidden="true"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-keyword">function</span> <span class="cm-def">getAppointmentSpecies</span><span class="cm-operator">&lt;</span><span class="cm-type">A</span> <span class="cm-keyword">extends</span> <span class="cm-type">Animal</span><span class="cm-operator">&gt;</span>(</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;" aria-hidden="true"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"> &nbsp;<span class="cm-def">appointment</span>: <span class="cm-type">Appointment</span><span class="cm-operator">&lt;</span><span class="cm-type">A</span><span class="cm-operator">&gt;</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;" aria-hidden="true"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation">) {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;" aria-hidden="true"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">11</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"> &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable-2">appointment</span>.<span class="cm-property">animal</span>.<span class="cm-property">species</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;" aria-hidden="true"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">12</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation">}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 50px; width: 1px; border-bottom: 0px solid transparent; top: 128px;"></div><div class="CodeMirror-gutters" style="height: 178px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></div></div></div><div class="ml-px"><div class="type-code"><textarea style="display: none;"></textarea><div class="CodeMirror cm-s-execprog-readonly CodeMirror-wrap" translate="no" style="height: 226px;"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5px; left: 35px;"><textarea style="position: absolute; bottom: -1em; padding: 0px; width: 1px; height: 1em; min-height: 1em; outline: none;" autocorrect="off" autocapitalize="none" spellcheck="false" readonly="readonly" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="height: 18px; pointer-events: none;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 50px; min-height: 224px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div style="position: relative; outline: none;" role="presentation"><div class="CodeMirror-measure"><pre class="CodeMirror-line-like"><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>1</div></div><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>21</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 24px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation" style=""><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;" aria-hidden="true"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">13</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-keyword">const</span> <span class="cm-def">appointment</span> <span class="cm-operator">=</span> {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;" aria-hidden="true"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">14</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"> &nbsp;<span class="cm-property">animal</span>: {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;" aria-hidden="true"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">15</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"> &nbsp; &nbsp;<span class="cm-property">species</span>: <span class="cm-string">'felis catus'</span>,</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;" aria-hidden="true"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">16</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"> &nbsp; &nbsp;<span class="cm-property">name</span>: <span class="cm-string">'Ms. Fluff'</span>,</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;" aria-hidden="true"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">17</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation">  },</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;" aria-hidden="true"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">18</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation">};</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;" aria-hidden="true"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">19</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span cm-text=""></span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;" aria-hidden="true"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">20</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-keyword">const</span> <span class="cm-def">species</span> <span class="cm-operator">=</span> <span class="cm-variable">getAppointmentSpecies</span>(<span class="cm-variable">appointment</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;" aria-hidden="true"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">21</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-variable">species</span>;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 50px; width: 1px; border-bottom: 0px solid transparent; top: 224px;"></div><div class="CodeMirror-gutters" style="height: 274px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></div></div><div class="space-y-2"><div class="
          flex justify-between flex-col space-y-4
        "><div class="flex-0"><dl class="flow-root type-code-small"><div class="flex"><dt class="flex-shrink-0 font-bold uppercase w-16">Goal:</dt><dd><pre>'felis catus'</pre></dd></div><div class="flex"><dt class="flex-shrink-0 font-bold uppercase w-16">Yours:</dt><dd><pre><span class="
    text-muted
    tone-positive
    
  ">'felis catus'<svg aria-label="Pass Icon" class="
    align-baseline fill-current inline-block relative
    
    
    h-em w-em
    
    
      tone-positive tone-as-loud
      bg-control h-em ml-2
      rounded-full text-control top-[0.2em] w-em
    
  " height="24" role="img" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title>Pass Icon</title><g aria-hidden="true"><path d="M8.75 17.882l-4.359-4.359a.75.75 0 0 1 1.06-1.06l4.006 4.005 9.005-9.006a.75.75 0 0 1 1.061 1.061l-9.359 9.359a1 1 0 0 1-1.414 0z"></path></g></svg></span></pre></dd></div></dl></div><div class="flex-1 pb-1"></div></div><label class="
    flex items-center -m-2 px-2 py-1 rounded-sm
    space-x-2 type-code hover:bg-front
  "><input type="checkbox"><span>Show Author's Answer</span></label></div></div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>Generic
 constraints are a critical feature of TypeScript, but they show up 
primarily in library or framework code.
They're useful in situations like the one in this lesson, where we want 
to write code that relies on certain properties, but is also reusable in
 many situations.</p>
</div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>Here are some examples where generic constraints are useful:</p>
</div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><ul>
<li>A database library needs to work in any application, with any type of rows, but all rows must have a numeric ID.
<code>&lt;T extends {id: number}&gt;</code>.</li>
<li>An API server framework needs to work with any server-side API endpoint that its users write.
The endpoints can return any type of data, as long as the data is in JSON-compatible objects.
<code>&lt;T extends Json&gt;</code>.</li>
<li><a href="https://en.wikipedia.org/wiki/Heap_(data_structure)" target="_blank">Heaps</a> (and some other data structures) can only store data if it has a "key".
Internally, the heap keeps data sorted by its key, but it doesn't need to access the rest of the data.
A heap can store any data with a key, just as our <code>filterBelowAge</code> function could filter any array of things with ages.
<code>&lt;T extends {key: number}&gt;</code>.</li>
</ul>
</div></div></li><li class="
          step
          finished-step
        "><div class="mb-4 space-y-4"><div class="copy type-code "><p>We'll see more examples of generic constraints in future lessons.</p>
</div></div></li></ul></div></main><div class="reference tone-neutral"><button class="

    button tone-accent
    border-2 border-control cursor-pointer font-bold font-mono group
    inline-flex items-center justify-between leading-none no-underline rounded
    space-x-2 whitespace-nowrap
    hover:shadow-md
    focusable
    bg-transparent
    px-4 py-2
    text-md
    flex-row-reverse space-x-reverse
    bg-base hover:bg-front bottom-4 fixed right-4 shadow-lg z-50
  " tabindex="0" type="button"><span>Show Reference</span><svg aria-label="Reference Icon" class="
    align-baseline fill-current inline-block relative
    
    
    h-em w-em
    opacity-50 group-hover:opacity-100
    
  " height="24" role="img" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title>Reference Icon</title><g aria-hidden="true"><path d="M16.5 0a1.5 1.5 0 0 1 1.06.44l3 3A1.5 1.5 0 0 1 21 4.5v18a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 3 22.5v-21A1.5 1.5 0 0 1 4.5 0zm-1.25 1.5H4.5v21h15V5.749L16 5.75a.75.75 0 0 1-.743-.648L15.25 5V1.5zm-2 16.5a.75.75 0 1 1 0 1.5h-6.5a.75.75 0 1 1 0-1.5h6.5zm3-3a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 1 1 0-1.5h9.5zm.345-7.585l.181.186.818.873a1.5 1.5 0 0 1 .101 1.932l-.1.12-.819.873c-2.566 2.738-6.732 2.8-9.37.186l-.182-.186-.818-.873a1.5 1.5 0 0 1-.101-1.932l.1-.12.819-.873c2.566-2.738 6.732-2.8 9.37-.186zM8.49 8.45l-.173.176L7.5 9.5l.818.873c1.977 2.11 5.148 2.168 7.191.176l.173-.176.818-.873-.818-.873c-1.977-2.11-5.148-2.168-7.191-.176zm5.153-.78l.06.061a2.547 2.547 0 0 1 0 3.536 2.368 2.368 0 0 1-3.348.06l-.06-.06a2.547 2.547 0 0 1 0-3.536 2.368 2.368 0 0 1 3.348-.06zm-2.269 1.102a1.047 1.047 0 0 0-.093 1.348l.074.086.041.042a.868.868 0 0 0 1.228-.022c.363-.377.389-.958.078-1.363l-.078-.09-.022-.023a.868.868 0 0 0-1.228.022zM16.75 1.75v2.5l2.499-.001L16.75 1.75z"></path></g></svg></button></div></div></div>
      
    </body></html>